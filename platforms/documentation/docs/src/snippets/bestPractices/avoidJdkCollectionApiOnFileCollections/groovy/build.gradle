plugins {
    id 'java-library'
}

// tag::bad-zipping-task[]
tasks.register("badZippingTask", Zip) {
    def files = configurations.runtimeClasspath + layout.projectDirectory.file("extra.txt") // <1>
    from(files)
}
// end::bad-zipping-task[]

// tag::good-zipping-task[]
tasks.register("goodZippingTask", Zip) {
    def files = files(configurations.runtimeClasspath, layout.projectDirectory.file("extra.txt")) // <1>
    from(files)
}
// end::good-zipping-task[]
